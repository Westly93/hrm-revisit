{% extends "base.html" %} {% load tailwind_filters %} {% block content %}
<!--Tabs navigation-->
<section
  class="max-w-4xl p-6 mx-auto bg-white rounded-md shadow-md dark:bg-gray-800"
>
  {% with profile_completion=request.user.profile.get_profile_completion %}

  <span class="text-gray-500">Profile Completion</span>
  <div class="w-full bg-gray-200 rounded-full dark:bg-gray-700">
    <div
      class="{% if profile_completion < 75 %} bg-red-700 {% else %}bg-teal-700 {% endif %} text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full"
      style="width: {{profile_completion}}%"
    >
      {{ profile_completion }}%
    </div>
  </div>

  {% endwith %}
  <div x-data="{currentTab: 'Home'}">
    <ul
      class="mb-5 flex list-none flex-row flex-wrap border-b-0 pl-0"
      role="tablist"
      data-te-nav-ref
    >
      <li role="presentation">
        <a
          href="#tabs-home"
          class="my-2 flex space-x-2 items-center border-x-0 border-b-2 border-t-0 border-transparent px-7 pb-3.5 pt-4 text-xs font-medium uppercase leading-tight text-neutral-500 hover:isolate hover:border-transparent hover:bg-neutral-100 focus:isolate focus:border-transparent data-[te-nav-active]:border-primary data-[te-nav-active]:text-primary dark:text-neutral-400 dark:hover:bg-transparent dark:data-[te-nav-active]:border-primary-400 dark:data-[te-nav-active]:text-primary-400"
          data-te-toggle="pill"
          data-te-target="#tabs-home"
          data-te-nav-active
          role="tab"
          aria-controls="tabs-home"
          aria-selected="true"
          @click="currentTab= 'Home'"
          >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4">
            <path d="M8.543 2.232a.75.75 0 0 0-1.085 0l-5.25 5.5A.75.75 0 0 0 2.75 9H4v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 1 1 2 0v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1V9h1.25a.75.75 0 0 0 .543-1.268l-5.25-5.5Z" />
          </svg>
          
          <span>Home</span>
          </a
        >
      </li>
      <li role="presentation">
        <a
          href="#tabs-profile"
          class="my-2 flex space-x-2 items-center border-x-0 border-b-2 border-t-0 border-transparent px-7 pb-3.5 pt-4 text-xs font-medium uppercase leading-tight text-neutral-500 hover:isolate hover:border-transparent hover:bg-neutral-100 focus:isolate focus:border-transparent data-[te-nav-active]:border-primary data-[te-nav-active]:text-primary dark:text-neutral-400 dark:hover:bg-transparent dark:data-[te-nav-active]:border-primary-400 dark:data-[te-nav-active]:text-primary-400"
          data-te-toggle="pill"
          data-te-target="#tabs-profile"
          role="tab"
          aria-controls="tabs-profile"
          aria-selected="false"
          @click="currentTab= 'Profile'"
          >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4">
            <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z" />
          </svg>
          
          <span>Profile</span>
          </a
        >
      </li>
      <li role="presentation">
        <a
          href="#tabs-settings"
          class="my-2 flex space-x-2 items-center border-x-0 border-b-2 border-t-0 border-transparent px-7 pb-3.5 pt-4 text-xs font-medium uppercase leading-tight text-neutral-500 hover:isolate hover:border-transparent hover:bg-neutral-100 focus:isolate focus:border-transparent data-[te-nav-active]:border-primary data-[te-nav-active]:text-primary dark:text-neutral-400 dark:hover:bg-transparent dark:data-[te-nav-active]:border-primary-400 dark:data-[te-nav-active]:text-primary-400"
          data-te-toggle="pill"
          data-te-target="#tabs-settings"
          data-te-nav-active
          role="tab"
          aria-controls="tabs-settings"
          aria-selected="true"
          @click="currentTab= 'Settings'"
          >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4">
            <path fill-rule="evenodd" d="M4.5 1.938a.75.75 0 0 1 1.025.274l.652 1.131c.351-.138.71-.233 1.073-.288V1.75a.75.75 0 0 1 1.5 0v1.306a5.03 5.03 0 0 1 1.072.288l.654-1.132a.75.75 0 1 1 1.298.75l-.652 1.13c.286.23.55.492.785.786l1.13-.653a.75.75 0 1 1 .75 1.3l-1.13.652c.137.351.233.71.288 1.073h1.305a.75.75 0 0 1 0 1.5h-1.306a5.032 5.032 0 0 1-.288 1.072l1.132.654a.75.75 0 0 1-.75 1.298l-1.13-.652c-.23.286-.492.55-.786.785l.652 1.13a.75.75 0 0 1-1.298.75l-.653-1.13c-.351.137-.71.233-1.073.288v1.305a.75.75 0 0 1-1.5 0v-1.306a5.032 5.032 0 0 1-1.072-.288l-.653 1.132a.75.75 0 0 1-1.3-.75l.653-1.13a4.966 4.966 0 0 1-.785-.786l-1.13.652a.75.75 0 0 1-.75-1.298l1.13-.653a4.965 4.965 0 0 1-.288-1.073H1.75a.75.75 0 0 1 0-1.5h1.306a5.03 5.03 0 0 1 .288-1.072l-1.132-.653a.75.75 0 0 1 .75-1.3l1.13.653c.23-.286.492-.55.786-.785l-.653-1.13A.75.75 0 0 1 4.5 1.937Zm1.14 3.476a3.501 3.501 0 0 0 0 5.172L7.135 8 5.641 5.414ZM8.434 8.75 6.94 11.336a3.491 3.491 0 0 0 2.81-.305 3.49 3.49 0 0 0 1.669-2.281H8.433Zm2.987-1.5H8.433L6.94 4.664a3.501 3.501 0 0 1 4.48 2.586Z" clip-rule="evenodd" />
          </svg>
          
          <span>Settings</span>
          </a
        >
      </li>
      <li role="presentation">
        <a
          href="#tabs-qualifications"
          class="my-2 flex space-x-2 items-center border-x-0 border-b-2 border-t-0 border-transparent px-7 pb-3.5 pt-4 text-xs font-medium uppercase leading-tight text-neutral-500 hover:isolate hover:border-transparent hover:bg-neutral-100 focus:isolate focus:border-transparent data-[te-nav-active]:border-primary data-[te-nav-active]:text-primary dark:text-neutral-400 dark:hover:bg-transparent dark:data-[te-nav-active]:border-primary-400 dark:data-[te-nav-active]:text-primary-400"
          data-te-toggle="pill"
          data-te-target="#tabs-qualifications"
          role="tab"
          aria-controls="tabs-qualifications"
          aria-selected="false"
          @click="currentTab= 'Qualifications'"
          >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4">
            <path d="M7.702 1.368a.75.75 0 0 1 .597 0c2.098.91 4.105 1.99 6.004 3.223a.75.75 0 0 1-.194 1.348A34.27 34.27 0 0 0 8.341 8.25a.75.75 0 0 1-.682 0c-.625-.32-1.262-.62-1.909-.901v-.542a36.878 36.878 0 0 1 2.568-1.33.75.75 0 0 0-.636-1.357 38.39 38.39 0 0 0-3.06 1.605.75.75 0 0 0-.372.648v.365c-.773-.294-1.56-.56-2.359-.8a.75.75 0 0 1-.194-1.347 40.901 40.901 0 0 1 6.005-3.223ZM4.25 8.348c-.53-.212-1.067-.411-1.611-.596a40.973 40.973 0 0 0-.418 2.97.75.75 0 0 0 .474.776c.175.068.35.138.524.21a5.544 5.544 0 0 1-.58.681.75.75 0 1 0 1.06 1.06c.35-.349.655-.726.915-1.124a29.282 29.282 0 0 0-1.395-.617A5.483 5.483 0 0 0 4.25 8.5v-.152Z" />
            <path d="M7.603 13.96c-.96-.6-1.958-1.147-2.989-1.635a6.981 6.981 0 0 0 1.12-3.341c.419.192.834.393 1.244.602a2.25 2.25 0 0 0 2.045 0 32.787 32.787 0 0 1 4.338-1.834c.175.978.315 1.969.419 2.97a.75.75 0 0 1-.474.776 29.385 29.385 0 0 0-4.909 2.461.75.75 0 0 1-.794 0Z" />
          </svg>
          
          
          <span>Qualifications</span>
          </a
        >
      </li>
      <li role="presentation">
        <a
          href="#tabs-experience"
          class="my-2 flex space-x-2 items-center border-x-0 border-b-2 border-t-0 border-transparent px-7 pb-3.5 pt-4 text-xs font-medium uppercase leading-tight text-neutral-500 hover:isolate hover:border-transparent hover:bg-neutral-100 focus:isolate focus:border-transparent data-[te-nav-active]:border-primary data-[te-nav-active]:text-primary dark:text-neutral-400 dark:hover:bg-transparent dark:data-[te-nav-active]:border-primary-400 dark:data-[te-nav-active]:text-primary-400"
          data-te-toggle="pill"
          data-te-target="#tabs-experience"
          role="tab"
          aria-controls="tabs-experience"
          aria-selected="false"
          @click="currentTab= 'Experience'"
          >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4">
            <path fill-rule="evenodd" d="M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z" clip-rule="evenodd" />
            <path fill-rule="evenodd" d="M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd" />
          </svg>
          
          <span>Experience</span>
          </a
        >
      </li>
      <li role="presentation">
        <a
          href="#tabs-references"
          class="my-2 flex space-x-2 items-center border-x-0 border-b-2 border-t-0 border-transparent px-7 pb-3.5 pt-4 text-xs font-medium uppercase leading-tight text-neutral-500 hover:isolate hover:border-transparent hover:bg-neutral-100 focus:isolate focus:border-transparent data-[te-nav-active]:border-primary data-[te-nav-active]:text-primary dark:text-neutral-400 dark:hover:bg-transparent dark:data-[te-nav-active]:border-primary-400 dark:data-[te-nav-active]:text-primary-400"
          data-te-toggle="pill"
          data-te-target="#tabs-references"
          role="tab"
          aria-controls="tabs-references"
          aria-selected="false"
          @click="currentTab= 'References' "
          >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4">
            <path d="M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z" />
          </svg>
          
          <span>References</span>
          </a
        >
      </li>
    </ul>

    <!--Tabs content-->
    <div class="mb-6">
      <div
        x-show="currentTab=== 'Home'"
        class="hidden opacity-100 transition-opacity duration-150 ease-linear data-[te-tab-active]:block"
        id="tabs-home"
        role="tabpanel"
        aria-labelledby="tabs-home-tab"
        data-te-tab-active
      >
        <div class="shadow p-6">
          <h3 class="text-xl uppercase font-semibold text-gray-500">
            Job Posts You have applied for({{adverts.count}})
          </h3>
          {% include "adverts/partials/adverts.html" %}
        </div>
      </div>
      <div
        x-show="currentTab === 'Profile'"
        class="opacity-100 transition-opacity duration-150 ease-linear"
        id="tabs-messages"
        role="tabpanel"
        aria-labelledby="tabs-messages-tab"
      >
        <div class="flex shadow p-6">
          <div>
            <img
              class="rounded-full w-20 h-20"
              src="{{ request.user.profile.thumbnail.url }}"
            />
            <div class="mt-[-0.8rem] ml-7">
              <a
                class="text-teal-700"
                href="{% url 'accounts:profile-update' %}"
                ><i class="fa-solid fa-pen-to-square"></i
              ></a>
            </div>
          </div>
          <div class="flex-1 ml-4">
            <div class="flex">
              <p class="py-2 text-gray-500 w-2/5">First Name</p>
              <p class="py-2 text-gray-500 w-3/5">
                {{ request.user.profile.first_name}}
              </p>
            </div>
            <div class="flex">
              <p class="py-2 text-gray-500 w-2/5">Last Name</p>
              <p class="py-2 text-gray-500 w-3/5">
                {{ request.user.profile.surname}}
              </p>
            </div>
            <div class="flex">
              <p class="py-2 text-gray-500 w-2/5">National Id</p>
              <p class="py-2 text-gray-500 w-3/5">
                {{ request.user.profile.national_id}}
              </p>
            </div>
            <div class="flex">
              <p class="py-2 text-gray-500 w-2/5">Gender</p>
              <p class="py-2 text-gray-500 w-3/5">
                {{ request.user.profile.gender}}
              </p>
            </div>
            <div class="flex">
              <p class="py-2 text-gray-500 w-2/5">Marital Status</p>
              <p class="py-2 text-gray-500 w-3/5">
                {{ request.user.profile.marital_status}}
              </p>
            </div>
            <div class="flex">
              <p class="py-2 text-gray-500 w-2/5">Address</p>
              <p class="py-2 text-gray-500 w-3/5">
                {{ request.user.profile.address}}
              </p>
            </div>
            <div class="flex">
              <p class="py-2 text-gray-500 w-2/5">City</p>
              <p class="py-2 text-gray-500 w-3/5">
                {{ request.user.profile.city}}
              </p>
            </div>
            <div class="flex">
              <p class="py-2 text-gray-500 w-2/5">State</p>
              <p class="py-2 text-gray-500 w-3/5">
                {{ request.user.profile.nationality}}
              </p>
            </div>
            <div class="flex">
              <p class="py-2 text-gray-500 w-2/5">Bio</p>
              <p class="py-2 text-gray-500 w-3/5">
                {{ request.user.profile.bio}}
              </p>
            </div>
            <div class="flex">
              <p class="py-2 text-gray-500 w-2/5">Contacts</p>
              <p class="py-2 text-gray-500 w-3/5">
                <span id="contacts"
                  >{% include 'accounts/partials/contacts.html' %}</span
                >

                <i
                  hx-get="{% url 'accounts:add_contact' %}"
                  hx-target="#add-contact"
                  hx-swap="innerHTML delay:1s"
                  class="fa-solid fa-plus cursor-pointer text-green-500 text-right"
                ></i>
              </p>
            </div>
            <div id="add-contact"></div>
          </div>
        </div>
      </div>
      <div
        x-show="currentTab === 'Settings'"
        class="opacity-100 transition-opacity duration-150 ease-linear"
        id="tabs-settings"
        role="tabpanel"
        aria-labelledby="tabs-settings-tab"
      >
        <div class="shadow p-6">
          <a href="{% url 'accounts:password_change' %}" class="text-teal-700"
            >Change Password</a
          >
          <br />
          <a href="{% url 'accounts:logout' %}" class="text-teal-700 py-3"
            >Logout</a
          >
        </div>
      </div>
      <div
        x-show="currentTab === 'Qualifications'"
        class="opacity-100 transition-opacity duration-150 ease-linear"
        id="tabs-qualifications"
        role="tabpanel"
        aria-labelledby="tabs-qualifications-tab"
      >
        <div class="shadow p-6">
          <div class="flex justify-between">
            <h3 class="text-xl font-semibold mb-3">Education</h3>
            <div>
              <i
                hx-get="{% url 'adverts:add_academic_qualification' %}"
                hx-target="#add-academics"
                hx-swap="outerHTML delay:1s"
                class="fa-solid fa-plus cursor-pointer text-green-500"
              ></i>
              <div id="add-academics"></div>
            </div>
          </div>
          <div id="qualifications">
            {% include "adverts/partials/qualifications.html" %}
          </div>
        </div>
      </div>
      <div
        x-show="currentTab === 'Experience'"
        class="opacity-100 transition-opacity duration-150 ease-linear"
        id="tabs-experience"
        role="tabpanel"
        aria-labelledby="tabs-experience-tab"
      >
        <div class="shadow p-6">
          <div class="flex justify-between">
            <h3 class="text-xl font-semibold mb-3">Experience</h3>
            <div x-data="{showExperienceModal: false}">
              <i
                @click="showExperienceModal=true"
                data-modal-target="qualification-modal"
                data-modal-toggle="qualification-modal"
                class="fa-solid fa-plus cursor-pointer text-green-500"
              ></i>
              {% include "adverts/partials/add_experience.html" %}
            </div>
          </div>
          <div id="experience">
            {% include "adverts/partials/experience.html" %}
          </div>
        </div>
      </div>
      <div
        x-show="currentTab=== 'References'"
        class="opacity-100 transition-opacity duration-150 ease-linear"
        id="tabs-references"
        role="tabpanel"
        aria-labelledby="tabs-references-tab"
        data-te-tab-active
      >
        <div class="shadow p-6">
          <div class="flex justify-between">
            <h3 class="text-xl font-semibold mb-3">References</h3>
            <div x-data="{showReferenceModal: false}">
              <i
                @click="showReferenceModal=true"
                data-modal-target="qualification-modal"
                data-modal-toggle="qualification-modal"
                class="fa-solid fa-plus cursor-pointer text-green-500"
              ></i>
              {% include "adverts/partials/add_reference.html" %}
            </div>
          </div>
          <div id="references">
            {% include "adverts/partials/references.html" %}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock content %}
